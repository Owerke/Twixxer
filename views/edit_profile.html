% include("header", title=f"Twixxer - {user['firstname']} {user['lastname']}")
% include("header", title="Twixxer")

<body class="max-w-screen-xl box-border">

    <section id="tweetModal" class="fixed w-screen h-screen z-10 hidden">
        <div class="absolute h-full w-full bg-black bg-opacity-50" onclick="toggleTweetModal()">
        </div>
        <div class="relative z-10 bg-black rounded-lg w-1/3 h-64 mx-auto mt-20">
        </div>
    </section>

    % # main page
    <div class="flex w-full mx-auto xl:w-4/5">

        %include("sections/leftside")
        % # center
        <div class="w-2/4 min-h-screen border-x border-gray-300">
            <!-- Here comes the profile-->
            <div class="h-52 bg-slate-600" alt="cover pic"></div>
            <div class="rounded-full w-36 h-36 bg-white ml-4 -mt-20">
                <img class="rounded-full p-1" src="/static/images/profiles/{{user['picture_path']}}" alt="profile pic">
            </div>
            <div id="whole stuff" class="ml-4">
                <p class="font-bold">{{ user["firstname"] }} {{ user["lastname"] }}</p>
                <p class="font-thin">@{{user["username"]}}</p>

                <div class="max-h-full flex">
                    <div id="signupform" class="pt-16">
                        <div class="mb-8">
                            <h2 class="font-bold text-3xl">Join twixxer today</h2>
                        </div>

                        <form action="/profile/{{user['username']}}" method="post" class="form">
                            <input class="mt-1 ml-1 py-1 px-4 w-1/2 border focus:outline outline-offset-0 outline-blue"
                                name="user_firstname" type="text" class="form-control" placeholder="Firstname"
                                required="required" value="{{user['firstname']}}">
                            <input class="mt-1 ml-1 py-1 px-4 w-1/2 border focus:outline outline-offset-0 outline-blue"
                                name="user_lastname" type="text" class="form-control" placeholder="Lastname"
                                required="required" value="{{user['lastname']}}">
                            <input class="mt-1 ml-1 py-1 px-4 w-1/2 border focus:outline outline-offset-0 outline-blue"
                                name="user_email" type="text" class="form-control" placeholder="Email"
                                required="required"
                                pattern='(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))'
                                value="{{user['email']}}">
                            <button class="my-5 py-2 px-4 w-1/2 bg-blue rounded-full text-gray-700 font-sans font-bold"
                                type="submit"><a class="text-gray-700 font-sans font-bold">Update</a></button>
                        </form>

                        <form action="/profile/{{user['username']}}/password" method="post" class="form">
                            <input class="mt-1 ml-1 py-1 px-4 w-1/2 border focus:outline outline-offset-0 outline-blue"
                                name="user_password" type="password" class="form-control" placeholder="Password">
                            <button class="my-5 py-2 px-4 w-1/2 bg-blue rounded-full text-gray-700 font-sans font-bold"
                                type="submit"><a class="text-gray-700 font-sans font-bold">Update Password</a></button>
                        </form>

                        <!-- Upload files: https://bottlepy.org/docs/dev/tutorial.html#file-uploads -->
                        <form action="/profile/{{user['username']}}/picture" method="post"
                            enctype="multipart/form-data">
                            Select a file: <input type="file" name="upload" />
                            <button class="my-5 py-2 px-4 w-1/2 bg-blue rounded-full text-gray-700 font-sans font-bold"
                                type="submit"><a class="text-gray-700 font-sans font-bold">Upload picture</a></button>
                        </form>

                        <div class="max-w-xs">
                            <p class="pt-2 text-xs ">By signing up, you agree to the Terms of Service and Privacy
                                Policy, including Cookie Use.</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        % # end center

        <!--TODO: add picture, make dynamic links, filter tweets by user-->

        %include("sections/rightside")

    </div>
    % # end page


    % include("footer")
